# covert operation missions

sabotage_strategic_resource = {
	cost = 10

	is_valid = {
		has_strategic_resource = yes
	}
	
	is_selectable = {
		NOT = {
			has_province_modifier = covertopsmod_damage_resource
		}
	}
	
	effect = {
		add_province_modifier = {
			name = covertopsmod_damage_resource
			duration = 30
		}
	}
}

steal_battle_plans = {
	cost = 10

	is_valid = {
	}
	
	is_selectable = {
	}
	
	effect = {
		local_intel_boost = 60   # local_intel_boost within this distance
	}
}

scout_area = {
	cost = 15

	is_valid = {
	}
	
	is_selectable = {
		NOT = {
			has_province_modifier = covertopsmod_scout
		}
	}
	
	effect = {
		any_nearby_province = {
			distance = 60

			limit = {
				NOT = {
					has_province_modifier = covertopsmod_scout
				}
			}

			add_province_modifier = {
				name = covertopsmod_scout
				duration = 30
			}
		}
	}
}

partisan_resupply = {
	cost = 15
	
	is_valid = {
		from = { war = yes }
		from = { not = { has_country_flag = Multiplayer }}
	}
	
	is_selectable = {
		# The targeted province must be someone with whom the player is currently at war
		# controller = { war_with = from }

		# They must control it, but not be the rightful owner
		NOT = { owned_by = FROM }
		controlled_by = FROM
		
		NOT = {
			has_province_modifier = covertopsmod_partisan_resupply
		}
	}
	
	effect = {

		#province_event = 990061
	
		#any_nearby_province = {
			#distance = 60

			#limit = {
				# Must be at war with the controller of this province
				#controller = { war_with = from }
				#NOT = {
				#	has_province_modifier = covertopsmod_partisan_resupply
				#}
			#}
			
			# Take away supplies from this province
			#supplies = -500
		#}
		
		add_province_modifier = {
			name = covertopsmod_partisan_resupply
			duration = 45
		}
		
		#add_province_modifier = {
		#	name = covertopsmod_partisan_resupply
		#	duration = 30
		#}
		
		# Add supplies to the selected/targeted province
		#supplies = 1000

		#from = { country_event = 940060 }
		
		# This would just award supplies to the general pool for the current player - we don't want that!
		#from = { supplies = 1000 }
	}
}

sabotage_area = {
	cost = 15

	is_valid = {

	}
	
	is_selectable = {
		NOT = {
			has_province_modifier = covertopsmod_sabotage
		}
	}
	
	effect = {
		any_nearby_province = {
			distance = 60

			limit = {
				NOT = {
					has_province_modifier = covertopsmod_sabotage
				}
			}

			add_province_modifier = {
				name = covertopsmod_sabotage
				duration = 30
			}
		}
	}
}
incite_revolt = {
	cost = 15

	is_valid = {
	}
	
	is_selectable = {
		NOT = {
			has_province_modifier = covertopsmod_sabotage
		}
	}
	
	effect = {
		any_nearby_province = {
			distance = 60

			limit = {
				NOT = {
					has_province_modifier = covertopsmod_sabotage
				}
			}

			add_province_modifier = {
				name = covertopsmod_revolt
				duration = 30
			}
		}
	}
}
####################################################Verbrannte Erde: roads##################################################
scorched_earth_roads = {
	cost = 0

	is_valid = { from = { ai = no } }
	
	is_selectable = {  controlled_by = from
	             or = { from =  { has_country_flag = home_land_destruction }
                             from = { has_country_flag = enemy_land_destruction }
		
	} }
	
	effect = {
		any_nearby_province = {
			distance = 60

			limit = {
				any_neighbor_province = { controller = { war_with = from } }
                                infra = 5
                                not = { has_province_modifier = infra_destruction_I }
                                or = { and = { owned_by = from
                                               owner = { has_country_flag = home_land_destruction  } }
                                       from = { has_country_flag = enemy_land_destruction } }
			}
                                infra = -1
			
                        add_province_modifier = {                            ###########################               #
                        name = "infra_destruction_I" ########################## add to event_modifier################
                        duration = 90 }                                     ###########################

		}
	} }



evacuate_the_specialists_home = {
	cost = 0

	is_valid = { from = { ai = no } }
	
	is_selectable = {  owned_by = from
	              from = {  has_country_flag = home_land_destruction  }
                      controlled_by = from
                      leadership = 0.5
		      not = { has_province_modifier = evacuation_home_LS }
	 }
	
	effect = { add_province_modifier = { name = "evacuation_home_LS"     ###############################eventmodifier##########################
                                             duration = 180 }

                  leadership = -0.5
                  from = { random_owned = { limit = { has_province_flag = evacuation_point controlled_by = from } leadership = 0.4 } } }
         }

evacuate_the_specialists_enemy = {
	cost = 0

	is_valid = { from = { ai = no } }
	
	             is_selectable = {  owner = { war_with = from }
	             from = {  has_country_flag = enemy_land_destruction }
                     controlled_by = from
                    leadership = 0.5
		          not = { has_province_modifier = evacuation_enemy_LS }
	 }
	
	effect = { add_province_modifier = { name = "evacuation_enemy_LS"     ###############################eventmodifier##########################
                                             duration = 180 }

                  leadership = -0.5
                 from = { random_owned = { limit = { has_province_flag = evacuation_point controlled_by = from } leadership = 0.2 } } }
         }

evacuate_the_industry_home = {
	cost = 0

	is_valid = { from = { ai = no } }
	
	is_selectable = {  owned_by = from
	              from = {  has_country_flag = home_land_destruction  }
                      controlled_by = from
                      industry = 2
		      not = { has_province_modifier = evacuation_home_IC }
	 }
	
	effect = { add_province_modifier = { name = "evacuation_home_IC"     ###############################eventmodifier##########################
                                             duration = 180 }
                  industry = -2
                  from = { random_owned = { limit = { has_province_flag = evacuation_point
                                             not = { industry = 10 } controlled_by = from } industry = 1 } } }
         }

evacuate_the_industry_enemy = {
	cost = 0

	is_valid = { from = { ai = no } }
	
	             is_selectable = {  owner = { war_with = from }
	             from = {  has_country_flag = enemy_land_destruction }
                     controlled_by = from
                    industry = 1
		          not = { has_province_modifier = evacuation_enemy_IC }
	 }
	
	effect = { add_province_modifier = { name = "evacuation_enemy_IC"     ###############################eventmodifier##########################
                                             duration = 180 }

                  industry = -1
                 from = { supplies = 1000 money = 100 } } }


evacuationpoint= {
                              cost = 0
                              is_valid = { from = { ai = no } }
                              is_selectable = { owned_by = from
                                                controlled_by = from
                                                not = {  has_province_flag = evacuation_point }}
                              effect = {
                              set_province_flag = evacuation_point }
                                                       }
clr_evacuationpoint= {
                              cost = 0
                              is_valid = { from = { ai = no } }
                              is_selectable = { owned_by = from
                                                controlled_by = from
                                                has_province_flag = evacuation_point  }
                              effect = {
                              clr_province_flag = evacuation_point }
                                                       }
    lower_neutrality = {
                              cost = 5
                              is_valid = { from = { ai = no }
                                            }
                              is_selectable = {
                                                not = { has_province_modifier = evil_inflamation }
                                               is_capital = yes  }
                              effect = {
                              add_province_modifier = { name = "evil_inflamation"
                                             duration = 30 } }
                                                       }

airbasepoint = {
                              cost = 0
                              is_valid = { from = { ai = no } }
                              is_selectable = { owned_by = from
                                                controlled_by = from
												air_base = 1
                                                not = {  has_province_flag = airbase_point }}
                              effect = {
                              set_province_flag = airbase_point }
                    }
clr_airbasepoint = {
                              cost = 0
                              is_valid = { from = { ai = no } }
                              is_selectable = { owned_by = from
                                                controlled_by = from
                                                has_province_flag = airbase_point  }
                              effect = {
                              clr_province_flag = airbase_point }
    				}

